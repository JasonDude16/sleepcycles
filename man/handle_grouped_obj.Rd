% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/util.R
\name{.handle_grouped_obj}
\alias{.handle_grouped_obj}
\title{Handle Grouped SleepCycle Objects}
\usage{
.handle_grouped_obj(x, .id)
}
\arguments{
\item{x}{A \code{SleepCycle} object.}

\item{.id}{(Optional) The subject ID to extract. If \code{NULL}, the first subject is used.}
}
\value{
A \strong{list} containing:
\itemize{
\item \code{"epoch"}: Per-epoch sleep staging data.
\item \code{"summary"}: Summary statistics for the subject (or full dataset if not grouped).
\item \code{"info"}: Metadata about the \code{SleepCycle} object.
}
}
\description{
This internal function extracts a specific subject's sleep data from a grouped \code{SleepCycle} object.
If the object is \strong{not grouped}, it returns the full dataset unchanged.
}
\details{
\itemize{
\item If \code{x} is \strong{grouped}, it extracts the sleep data for the specified \code{.id}.
\item If \code{.id} is \code{NULL}, it defaults to the \strong{first available subject} and issues a warning.
\item If \code{.id} is not found, it throws an error.
}

This function is used internally by plotting and processing functions that need to extract
data for a single subject when working with grouped \code{SleepCycle} objects.
}
\keyword{internal}
